# ✅ 快速部署检查清单

## 📋 部署前检查

### 1. 环境检查
- [x] ✅ Node.js 已安装（项目使用 v20）
- [x] ✅ npm 依赖已安装（node_modules 存在）
- [x] ✅ Android 项目已初始化（android 目录存在）
- [x] ✅ Capacitor 配置正确（capacitor.config.ts）
- [x] ✅ GitHub Actions 配置正确（.github/workflows/build-android.yml）

### 2. 功能检查
- [x] ✅ 语音识别服务（speechRecognition.ts）
- [x] ✅ 录音服务（audioRecorder.ts）
- [x] ✅ 本地存储服务（storage.ts）
- [x] ✅ 路由配置（router/index.ts）
- [x] ✅ 状态管理（stores/meeting.ts）

### 3. 构建配置检查
- [x] ✅ Vite 配置（vite.config.ts）
- [x] ✅ TypeScript 配置（tsconfig.json）
- [x] ✅ Android Gradle 配置（android/app/build.gradle）
- [x] ✅ 签名配置（使用 debug keystore）

---

## 🚀 部署方式选择

### 方式一：GitHub Actions 自动构建（推荐）⭐

**优点：**
- ✅ 完全自动化，无需本地配置
- ✅ 不需要安装 Android SDK
- ✅ 不需要安装 Java JDK
- ✅ 构建环境统一，避免本地问题
- ✅ 可以随时重新构建

**步骤：**
```bash
# 1. 推送到 GitHub（如果还没有）
git init
git add .
git commit -m "会议纪要应用"
git branch -M main
git remote add origin https://github.com/你的用户名/meeting-minutes-h5.git
git push -u origin main

# 2. 等待 GitHub Actions 自动构建（5-10分钟）
# 访问：https://github.com/你的用户名/meeting-minutes-h5/actions

# 3. 下载 APK
# 在 Actions 页面 → 点击完成的工作流 → 下载 Artifacts
```

**状态：** ✅ 已配置完成，可直接使用

---

### 方式二：本地构建

**前提条件：**
- [ ] Java JDK 17 已安装
- [ ] Android SDK 已安装
- [ ] ANDROID_HOME 环境变量已设置

**步骤：**
```bash
# 1. 构建 Web 应用
npm run build

# 2. 同步到 Android
npm run android:sync

# 3. 构建 APK
cd android
.\gradlew assembleRelease

# 4. 找到 APK
# 位置：android/app/build/outputs/apk/release/app-release.apk
```

**状态：** ⚠️ 需要本地环境配置

---

## 📱 安装到手机

### 步骤 1：获取 APK 文件

**从 GitHub Actions：**
1. 访问 GitHub 仓库的 Actions 页面
2. 点击最新的成功构建
3. 滚动到底部找到 "Artifacts"
4. 下载 `app-release` 或 `app-debug`
5. 解压 ZIP 文件得到 APK

**从本地构建：**
- 位置：`android/app/build/outputs/apk/release/app-release.apk`

### 步骤 2：传输到手机

**方法 A：微信/QQ**
1. 将 APK 发送到手机微信/QQ
2. 在手机上下载文件

**方法 B：数据线**
1. 手机连接电脑
2. 复制 APK 到手机存储

**方法 C：云盘**
1. 上传到百度云盘/OneDrive
2. 手机下载

### 步骤 3：安装

1. 在手机上打开文件管理器
2. 找到 APK 文件
3. 点击安装
4. 如果提示"未知来源"：
   - 设置 → 安全 → 允许安装未知应用
   - 选择文件管理器 → 允许
5. 点击"安装"
6. 安装完成后点击"打开"

### 步骤 4：授权

首次使用需要授权：
1. 允许麦克风权限（必需）
2. 允许存储权限（可选）

---

## 🧪 测试功能

### 1. 基础测试
- [ ] 应用能正常启动
- [ ] 界面显示正常
- [ ] 可以进入录音页面

### 2. 录音测试
- [ ] 点击"开始录音"
- [ ] 选择识别语言（普通话）
- [ ] 允许麦克风权限
- [ ] 对着麦克风说话
- [ ] 文字能实时显示
- [ ] 点击"停止录音"
- [ ] 会议记录已保存

### 3. 回放测试
- [ ] 在会议列表找到刚才的记录
- [ ] 点击进入详情
- [ ] 可以看到文字内容
- [ ] 可以播放录音
- [ ] 录音有声音

### 4. 导出测试
- [ ] 可以导出为 TXT
- [ ] 可以导出为 Markdown
- [ ] 可以导出为 HTML
- [ ] 可以分享文件

---

## 🔧 故障排查

### 问题 1：语音识别不工作

**检查项：**
```
1. 麦克风权限
   - 设置 → 应用 → 会议纪要 → 权限 → 麦克风 → 允许

2. 网络连接
   - 确保手机联网
   - Web Speech API 需要访问 Google 服务
   - 如果在国内，可能需要特殊网络环境

3. 浏览器内核
   - 应用使用系统 WebView
   - 确保系统 WebView 已更新
```

**解决方案：**
- 如果网络问题导致识别失败，录音功能仍可正常使用
- 可以先录音，后续在有网络环境时重新识别

### 问题 2：录音没有声音

**检查项：**
```
1. 麦克风是否正常
   - 打开手机录音机测试

2. 音量设置
   - 媒体音量是否开启

3. 权限设置
   - 确认已授予麦克风权限
```

### 问题 3：APK 安装失败

**检查项：**
```
1. 存储空间
   - 至少保留 100MB 空间

2. 安装权限
   - 设置 → 安全 → 允许安装未知应用

3. APK 文件
   - 确保文件完整，未损坏
   - 重新下载尝试
```

### 问题 4：应用闪退

**检查项：**
```
1. 系统版本
   - 需要 Android 5.0 或更高版本

2. WebView 版本
   - 更新 Android System WebView

3. 清除缓存
   - 设置 → 应用 → 会议纪要 → 存储 → 清除缓存
```

---

## 📊 性能优化建议

### 1. 提高识别准确率
- 🎤 使用外置麦克风（耳机麦克风）
- 🔇 在安静环境下使用
- 🗣️ 说话清晰，语速适中
- 📱 手机距离嘴巴 20-30cm

### 2. 减少网络错误
- 🌐 确保网络稳定
- 📶 使用 WiFi 而非移动数据
- 🔄 网络错误时应用会自动重试（最多3次）

### 3. 节省存储空间
- 🗑️ 定期删除不需要的会议记录
- 📤 导出重要记录后删除原文件
- 🔊 录音文件较大，可选择只保存文字

---

## 🎯 使用技巧

### 1. 多语言识别
应用支持多种语言和方言：
- 普通话（zh-CN）
- 粤语（yue-Hant-HK）
- 四川话（zh-CN-sichuan）
- 东北话（zh-CN-liaoning）
- 英语（en-US）
- 日语（ja-JP）

**切换方法：**
在录音页面点击语言选择器

### 2. 导出格式选择
- **TXT** - 纯文本，体积最小
- **Markdown** - 带格式，适合编辑
- **HTML** - 网页格式，适合分享

### 3. 录音质量设置
应用已优化录音质量：
- ✅ 回声消除
- ✅ 噪音抑制
- ✅ 自动增益控制

---

## 📞 获取帮助

### 文档资源
- `README.md` - 项目介绍
- `QUICK_START.md` - 快速开始
- `开始使用.md` - 中文使用指南
- `PROJECT_SUMMARY.md` - 项目总结
- `项目分析与部署指南.md` - 详细分析（本文档的配套文档）

### 在线资源
- GitHub 仓库：https://github.com/gwj7401/meeting-minutes-h5
- 提交 Issue：https://github.com/gwj7401/meeting-minutes-h5/issues

### 调试信息
如果遇到问题，可以：
1. 在应用中查看控制台日志
2. 使用 Chrome 远程调试（chrome://inspect）
3. 查看 Android 日志（adb logcat）

---

## ✅ 部署完成确认

完成以下所有步骤后，部署即完成：

- [ ] ✅ APK 已成功安装到手机
- [ ] ✅ 应用能正常启动
- [ ] ✅ 麦克风权限已授予
- [ ] ✅ 语音识别功能正常
- [ ] ✅ 录音功能正常
- [ ] ✅ 回放功能正常
- [ ] ✅ 导出功能正常

**恭喜！应用已成功部署到手机！** 🎉

---

## 🎊 下一步

现在你可以：

1. **日常使用**
   - 会议记录
   - 课堂笔记
   - 采访录音
   - 语音备忘

2. **分享给朋友**
   - 将 APK 分享给需要的人
   - 或者分享 GitHub 仓库链接

3. **功能扩展**
   - 根据需求添加新功能
   - 自定义界面主题
   - 优化识别准确率

4. **反馈改进**
   - 提交使用体验
   - 报告 Bug
   - 提出新功能建议

---

**祝你使用愉快！** 🚀

如果觉得有用，请给项目点个 ⭐ Star！
